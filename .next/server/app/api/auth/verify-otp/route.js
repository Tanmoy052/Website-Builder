"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/verify-otp/route";
exports.ids = ["app/api/auth/verify-otp/route"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fverify-otp%2Froute&page=%2Fapi%2Fauth%2Fverify-otp%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fverify-otp%2Froute.ts&appDir=C%3A%5CUsers%5Ctanmo%5CDownloads%5Cwebsite-builder%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ctanmo%5CDownloads%5Cwebsite-builder&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fverify-otp%2Froute&page=%2Fapi%2Fauth%2Fverify-otp%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fverify-otp%2Froute.ts&appDir=C%3A%5CUsers%5Ctanmo%5CDownloads%5Cwebsite-builder%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ctanmo%5CDownloads%5Cwebsite-builder&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_tanmo_Downloads_website_builder_app_api_auth_verify_otp_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/auth/verify-otp/route.ts */ \"(rsc)/./app/api/auth/verify-otp/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/verify-otp/route\",\n        pathname: \"/api/auth/verify-otp\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/verify-otp/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\tanmo\\\\Downloads\\\\website-builder\\\\app\\\\api\\\\auth\\\\verify-otp\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_tanmo_Downloads_website_builder_app_api_auth_verify_otp_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/auth/verify-otp/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGdmVyaWZ5LW90cCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYXV0aCUyRnZlcmlmeS1vdHAlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZhdXRoJTJGdmVyaWZ5LW90cCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUN0YW5tbyU1Q0Rvd25sb2FkcyU1Q3dlYnNpdGUtYnVpbGRlciU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDdGFubW8lNUNEb3dubG9hZHMlNUN3ZWJzaXRlLWJ1aWxkZXImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ2tDO0FBQy9HO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2VtaW5pLWFpLXdlYnNpdGUtYnVpbGRlci8/NDIxYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFx0YW5tb1xcXFxEb3dubG9hZHNcXFxcd2Vic2l0ZS1idWlsZGVyXFxcXGFwcFxcXFxhcGlcXFxcYXV0aFxcXFx2ZXJpZnktb3RwXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hdXRoL3ZlcmlmeS1vdHAvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hdXRoL3ZlcmlmeS1vdHBcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2F1dGgvdmVyaWZ5LW90cC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXHRhbm1vXFxcXERvd25sb2Fkc1xcXFx3ZWJzaXRlLWJ1aWxkZXJcXFxcYXBwXFxcXGFwaVxcXFxhdXRoXFxcXHZlcmlmeS1vdHBcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2F1dGgvdmVyaWZ5LW90cC9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fverify-otp%2Froute&page=%2Fapi%2Fauth%2Fverify-otp%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fverify-otp%2Froute.ts&appDir=C%3A%5CUsers%5Ctanmo%5CDownloads%5Cwebsite-builder%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ctanmo%5CDownloads%5Cwebsite-builder&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/auth/verify-otp/route.ts":
/*!******************************************!*\
  !*** ./app/api/auth/verify-otp/route.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_db_mock__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db/mock */ \"(rsc)/./lib/db/mock.ts\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var iron_session__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! iron-session */ \"(rsc)/./node_modules/iron-session/dist/index.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n/* harmony import */ var _lib_auth_session__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/auth/session */ \"(rsc)/./lib/auth/session.ts\");\n\n\n\n\n\n\nasync function POST(req) {\n    try {\n        const { email, otp } = await req.json();\n        if (!email || !otp) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Email and OTP required\"\n        }, {\n            status: 400\n        });\n        const user = await _lib_db_mock__WEBPACK_IMPORTED_MODULE_1__.db.findUserByEmail(email);\n        if (!user) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"User not found\"\n        }, {\n            status: 404\n        });\n        const storedOtp = await _lib_db_mock__WEBPACK_IMPORTED_MODULE_1__.db.getOTP(user.id);\n        if (!storedOtp || storedOtp.used || storedOtp.expiresAt < new Date()) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid or expired OTP\"\n            }, {\n                status: 401\n            });\n        }\n        const isOtpValid = await bcryptjs__WEBPACK_IMPORTED_MODULE_2___default().compare(otp, storedOtp.otpHash);\n        if (!isOtpValid) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Invalid OTP\"\n            }, {\n                status: 401\n            });\n        }\n        // Mark OTP used and verify user\n        await _lib_db_mock__WEBPACK_IMPORTED_MODULE_1__.db.markOTPUsed(user.id);\n        await _lib_db_mock__WEBPACK_IMPORTED_MODULE_1__.db.updateUserVerification(email, true);\n        // Create secure session\n        const session = await (0,iron_session__WEBPACK_IMPORTED_MODULE_5__.getIronSession)((0,next_headers__WEBPACK_IMPORTED_MODULE_3__.cookies)(), _lib_auth_session__WEBPACK_IMPORTED_MODULE_4__.sessionOptions);\n        session.user = {\n            id: user.id,\n            email: user.email,\n            isVerified: true\n        };\n        session.isLoggedIn = true;\n        await session.save();\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: \"Login successful\",\n            user: session.user\n        });\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2F1dGgvdmVyaWZ5LW90cC9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUEyQztBQUNSO0FBQ0w7QUFDZ0I7QUFDUDtBQUMwQjtBQUUxRCxlQUFlTSxLQUFLQyxHQUFZO0lBQ3JDLElBQUk7UUFDRixNQUFNLEVBQUVDLEtBQUssRUFBRUMsR0FBRyxFQUFFLEdBQUcsTUFBTUYsSUFBSUcsSUFBSTtRQUNyQyxJQUFJLENBQUNGLFNBQVMsQ0FBQ0MsS0FBSyxPQUFPVCxxREFBWUEsQ0FBQ1UsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBeUIsR0FBRztZQUFFQyxRQUFRO1FBQUk7UUFFaEcsTUFBTUMsT0FBTyxNQUFNWiw0Q0FBRUEsQ0FBQ2EsZUFBZSxDQUFDTjtRQUN0QyxJQUFJLENBQUNLLE1BQU0sT0FBT2IscURBQVlBLENBQUNVLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQWlCLEdBQUc7WUFBRUMsUUFBUTtRQUFJO1FBRS9FLE1BQU1HLFlBQVksTUFBTWQsNENBQUVBLENBQUNlLE1BQU0sQ0FBQ0gsS0FBS0ksRUFBRTtRQUN6QyxJQUFJLENBQUNGLGFBQWFBLFVBQVVHLElBQUksSUFBSUgsVUFBVUksU0FBUyxHQUFHLElBQUlDLFFBQVE7WUFDcEUsT0FBT3BCLHFEQUFZQSxDQUFDVSxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBeUIsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQzlFO1FBRUEsTUFBTVMsYUFBYSxNQUFNbkIsdURBQWMsQ0FBQ08sS0FBS00sVUFBVVEsT0FBTztRQUM5RCxJQUFJLENBQUNGLFlBQVk7WUFDZixPQUFPckIscURBQVlBLENBQUNVLElBQUksQ0FBQztnQkFBRUMsT0FBTztZQUFjLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUNuRTtRQUVBLGdDQUFnQztRQUNoQyxNQUFNWCw0Q0FBRUEsQ0FBQ3VCLFdBQVcsQ0FBQ1gsS0FBS0ksRUFBRTtRQUM1QixNQUFNaEIsNENBQUVBLENBQUN3QixzQkFBc0IsQ0FBQ2pCLE9BQU87UUFFdkMsd0JBQXdCO1FBQ3hCLE1BQU1rQixVQUFVLE1BQU12Qiw0REFBY0EsQ0FBY0MscURBQU9BLElBQUlDLDZEQUFjQTtRQUMzRXFCLFFBQVFiLElBQUksR0FBRztZQUFFSSxJQUFJSixLQUFLSSxFQUFFO1lBQUVULE9BQU9LLEtBQUtMLEtBQUs7WUFBRW1CLFlBQVk7UUFBSztRQUNsRUQsUUFBUUUsVUFBVSxHQUFHO1FBQ3JCLE1BQU1GLFFBQVFHLElBQUk7UUFFbEIsT0FBTzdCLHFEQUFZQSxDQUFDVSxJQUFJLENBQUM7WUFDdkJvQixTQUFTO1lBQ1RqQixNQUFNYSxRQUFRYixJQUFJO1FBQ3BCO0lBQ0YsRUFBRSxPQUFPRixPQUFPO1FBQ2QsT0FBT1gscURBQVlBLENBQUNVLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQXdCLEdBQUc7WUFBRUMsUUFBUTtRQUFJO0lBQzdFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZW1pbmktYWktd2Vic2l0ZS1idWlsZGVyLy4vYXBwL2FwaS9hdXRoL3ZlcmlmeS1vdHAvcm91dGUudHM/MWJkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBkYiB9IGZyb20gJ0AvbGliL2RiL21vY2snO1xuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcyc7XG5pbXBvcnQgeyBnZXRJcm9uU2Vzc2lvbiB9IGZyb20gJ2lyb24tc2Vzc2lvbic7XG5pbXBvcnQgeyBjb29raWVzIH0gZnJvbSAnbmV4dC9oZWFkZXJzJztcbmltcG9ydCB7IHNlc3Npb25PcHRpb25zLCBTZXNzaW9uRGF0YSB9IGZyb20gJ0AvbGliL2F1dGgvc2Vzc2lvbic7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogUmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHsgZW1haWwsIG90cCB9ID0gYXdhaXQgcmVxLmpzb24oKTtcbiAgICBpZiAoIWVtYWlsIHx8ICFvdHApIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRW1haWwgYW5kIE9UUCByZXF1aXJlZCcgfSwgeyBzdGF0dXM6IDQwMCB9KTtcblxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBkYi5maW5kVXNlckJ5RW1haWwoZW1haWwpO1xuICAgIGlmICghdXNlcikgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVc2VyIG5vdCBmb3VuZCcgfSwgeyBzdGF0dXM6IDQwNCB9KTtcblxuICAgIGNvbnN0IHN0b3JlZE90cCA9IGF3YWl0IGRiLmdldE9UUCh1c2VyLmlkKTtcbiAgICBpZiAoIXN0b3JlZE90cCB8fCBzdG9yZWRPdHAudXNlZCB8fCBzdG9yZWRPdHAuZXhwaXJlc0F0IDwgbmV3IERhdGUoKSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIG9yIGV4cGlyZWQgT1RQJyB9LCB7IHN0YXR1czogNDAxIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGlzT3RwVmFsaWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShvdHAsIHN0b3JlZE90cC5vdHBIYXNoKTtcbiAgICBpZiAoIWlzT3RwVmFsaWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW52YWxpZCBPVFAnIH0sIHsgc3RhdHVzOiA0MDEgfSk7XG4gICAgfVxuXG4gICAgLy8gTWFyayBPVFAgdXNlZCBhbmQgdmVyaWZ5IHVzZXJcbiAgICBhd2FpdCBkYi5tYXJrT1RQVXNlZCh1c2VyLmlkKTtcbiAgICBhd2FpdCBkYi51cGRhdGVVc2VyVmVyaWZpY2F0aW9uKGVtYWlsLCB0cnVlKTtcblxuICAgIC8vIENyZWF0ZSBzZWN1cmUgc2Vzc2lvblxuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRJcm9uU2Vzc2lvbjxTZXNzaW9uRGF0YT4oY29va2llcygpLCBzZXNzaW9uT3B0aW9ucyk7XG4gICAgc2Vzc2lvbi51c2VyID0geyBpZDogdXNlci5pZCwgZW1haWw6IHVzZXIuZW1haWwsIGlzVmVyaWZpZWQ6IHRydWUgfTtcbiAgICBzZXNzaW9uLmlzTG9nZ2VkSW4gPSB0cnVlO1xuICAgIGF3YWl0IHNlc3Npb24uc2F2ZSgpO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG4gICAgICBtZXNzYWdlOiAnTG9naW4gc3VjY2Vzc2Z1bCcsIFxuICAgICAgdXNlcjogc2Vzc2lvbi51c2VyIFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW50ZXJuYWwgU2VydmVyIEVycm9yJyB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZGIiLCJiY3J5cHQiLCJnZXRJcm9uU2Vzc2lvbiIsImNvb2tpZXMiLCJzZXNzaW9uT3B0aW9ucyIsIlBPU1QiLCJyZXEiLCJlbWFpbCIsIm90cCIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsInVzZXIiLCJmaW5kVXNlckJ5RW1haWwiLCJzdG9yZWRPdHAiLCJnZXRPVFAiLCJpZCIsInVzZWQiLCJleHBpcmVzQXQiLCJEYXRlIiwiaXNPdHBWYWxpZCIsImNvbXBhcmUiLCJvdHBIYXNoIiwibWFya09UUFVzZWQiLCJ1cGRhdGVVc2VyVmVyaWZpY2F0aW9uIiwic2Vzc2lvbiIsImlzVmVyaWZpZWQiLCJpc0xvZ2dlZEluIiwic2F2ZSIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/auth/verify-otp/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth/session.ts":
/*!*****************************!*\
  !*** ./lib/auth/session.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultSession: () => (/* binding */ defaultSession),\n/* harmony export */   sessionOptions: () => (/* binding */ sessionOptions)\n/* harmony export */ });\nconst sessionOptions = {\n    password: process.env.SECRET_COOKIE_PASSWORD || \"complex_password_at_least_32_characters_long\",\n    cookieName: \"ai_studio_session\",\n    cookieOptions: {\n        secure: \"development\" === \"production\",\n        httpOnly: true,\n        sameSite: \"lax\"\n    }\n};\nconst defaultSession = {\n    isLoggedIn: false\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC9zZXNzaW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBV08sTUFBTUEsaUJBQWlDO0lBQzVDQyxVQUFVQyxRQUFRQyxHQUFHLENBQUNDLHNCQUFzQixJQUFJO0lBQ2hEQyxZQUFZO0lBQ1pDLGVBQWU7UUFDYkMsUUFBUUwsa0JBQXlCO1FBQ2pDTSxVQUFVO1FBQ1ZDLFVBQVU7SUFDWjtBQUNGLEVBQUU7QUFFSyxNQUFNQyxpQkFBOEI7SUFDekNDLFlBQVk7QUFDZCxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2VtaW5pLWFpLXdlYnNpdGUtYnVpbGRlci8uL2xpYi9hdXRoL3Nlc3Npb24udHM/ZjY1OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZXNzaW9uT3B0aW9ucyB9IGZyb20gJ2lyb24tc2Vzc2lvbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2Vzc2lvbkRhdGEge1xuICB1c2VyPzoge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgZW1haWw6IHN0cmluZztcbiAgICBpc1ZlcmlmaWVkOiBib29sZWFuO1xuICB9O1xuICBpc0xvZ2dlZEluOiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3Qgc2Vzc2lvbk9wdGlvbnM6IFNlc3Npb25PcHRpb25zID0ge1xuICBwYXNzd29yZDogcHJvY2Vzcy5lbnYuU0VDUkVUX0NPT0tJRV9QQVNTV09SRCB8fCAnY29tcGxleF9wYXNzd29yZF9hdF9sZWFzdF8zMl9jaGFyYWN0ZXJzX2xvbmcnLFxuICBjb29raWVOYW1lOiAnYWlfc3R1ZGlvX3Nlc3Npb24nLFxuICBjb29raWVPcHRpb25zOiB7XG4gICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nLFxuICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgIHNhbWVTaXRlOiAnbGF4JyxcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0U2Vzc2lvbjogU2Vzc2lvbkRhdGEgPSB7XG4gIGlzTG9nZ2VkSW46IGZhbHNlLFxufTtcbiJdLCJuYW1lcyI6WyJzZXNzaW9uT3B0aW9ucyIsInBhc3N3b3JkIiwicHJvY2VzcyIsImVudiIsIlNFQ1JFVF9DT09LSUVfUEFTU1dPUkQiLCJjb29raWVOYW1lIiwiY29va2llT3B0aW9ucyIsInNlY3VyZSIsImh0dHBPbmx5Iiwic2FtZVNpdGUiLCJkZWZhdWx0U2Vzc2lvbiIsImlzTG9nZ2VkSW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth/session.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db/mock.ts":
/*!************************!*\
  !*** ./lib/db/mock.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n// In-memory mock database for production-grade logic demonstration\nclass MockDB {\n    async findUserByEmail(email) {\n        const normalizedEmail = email.toLowerCase().trim();\n        return this.users.find((u)=>u.email.toLowerCase().trim() === normalizedEmail);\n    }\n    async createUser(user) {\n        const normalizedUser = {\n            ...user,\n            email: user.email.toLowerCase().trim()\n        };\n        this.users.push(normalizedUser);\n        return normalizedUser;\n    }\n    async updateUserVerification(email, isVerified) {\n        const normalizedEmail = email.toLowerCase().trim();\n        const user = this.users.find((u)=>u.email.toLowerCase().trim() === normalizedEmail);\n        if (user) user.isVerified = isVerified;\n    }\n    async saveOTP(otp) {\n        this.otps = this.otps.filter((o)=>o.userId !== otp.userId);\n        this.otps.push(otp);\n    }\n    async getOTP(userId) {\n        return this.otps.find((o)=>o.userId === userId);\n    }\n    async markOTPUsed(userId) {\n        const otp = this.otps.find((o)=>o.userId === userId);\n        if (otp) otp.used = true;\n    }\n    // Persistent History Methods\n    async saveChat(chat) {\n        this.chats.push(chat);\n        return chat;\n    }\n    async saveProject(project) {\n        this.projects.push(project);\n        return project;\n    }\n    async getUserHistory(userId) {\n        return {\n            chats: this.chats.filter((c)=>c.userId === userId).sort((a, b)=>b.createdAt.getTime() - a.createdAt.getTime()),\n            projects: this.projects.filter((p)=>p.userId === userId).sort((a, b)=>b.createdAt.getTime() - a.createdAt.getTime()),\n            files: this.files.filter((f)=>f.userId === userId).sort((a, b)=>b.createdAt.getTime() - a.createdAt.getTime())\n        };\n    }\n    constructor(){\n        this.users = [];\n        this.chats = [];\n        this.projects = [];\n        this.files = [];\n        this.otps = [];\n    }\n}\nconst db = global.mockDb || new MockDB();\nif (true) global.mockDb = db;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUU7YUFDbEJvQixRQUFnQixFQUFFO2FBQ2xCRyxXQUFzQixFQUFFO2FBQ3hCUyxRQUFnQixFQUFFO2FBQ2xCckIsT0FBYyxFQUFFOztBQWdFbEI7QUFFTyxNQUFNdUIsS0FBSyxPQUFnQkUsTUFBTSxJQUFJLElBQUkxQyxTQUFTO0FBQ3pELElBQUkyQyxJQUFxQyxFQUFFLE9BQWdCRCxNQUFNLEdBQUdGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2VtaW5pLWFpLXdlYnNpdGUtYnVpbGRlci8uL2xpYi9kYi9tb2NrLnRzP2I5ZTAiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBVc2VyIHtcbiAgaWQ6IHN0cmluZztcbiAgZW1haWw6IHN0cmluZztcbiAgcGFzc3dvcmRIYXNoPzogc3RyaW5nO1xuICBpc1ZlcmlmaWVkOiBib29sZWFuO1xuICBjcmVhdGVkQXQ6IERhdGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdCB7XG4gIGlkOiBzdHJpbmc7XG4gIHVzZXJJZDogc3RyaW5nO1xuICBtZXNzYWdlczogYW55W107XG4gIG1vZGVsVXNlZDogc3RyaW5nO1xuICBjcmVhdGVkQXQ6IERhdGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvamVjdCB7XG4gIGlkOiBzdHJpbmc7XG4gIHVzZXJJZDogc3RyaW5nO1xuICBwcm9tcHQ6IHN0cmluZztcbiAgZ2VuZXJhdGVkQ29kZTogYW55O1xuICBjcmVhdGVkQXQ6IERhdGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmlsZSB7XG4gIGlkOiBzdHJpbmc7XG4gIHVzZXJJZDogc3RyaW5nO1xuICBmaWxlbmFtZTogc3RyaW5nO1xuICBzdG9yYWdlUGF0aDogc3RyaW5nO1xuICBjcmVhdGVkQXQ6IERhdGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgT1RQIHtcbiAgdXNlcklkOiBzdHJpbmc7XG4gIG90cEhhc2g6IHN0cmluZztcbiAgZXhwaXJlc0F0OiBEYXRlO1xuICB1c2VkOiBib29sZWFuO1xufVxuXG4vLyBJbi1tZW1vcnkgbW9jayBkYXRhYmFzZSBmb3IgcHJvZHVjdGlvbi1ncmFkZSBsb2dpYyBkZW1vbnN0cmF0aW9uXG5jbGFzcyBNb2NrREIge1xuICB1c2VyczogVXNlcltdID0gW107XG4gIGNoYXRzOiBDaGF0W10gPSBbXTtcbiAgcHJvamVjdHM6IFByb2plY3RbXSA9IFtdO1xuICBmaWxlczogRmlsZVtdID0gW107XG4gIG90cHM6IE9UUFtdID0gW107XG5cbiAgYXN5bmMgZmluZFVzZXJCeUVtYWlsKGVtYWlsOiBzdHJpbmcpIHtcbiAgICBjb25zdCBub3JtYWxpemVkRW1haWwgPSBlbWFpbC50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICByZXR1cm4gdGhpcy51c2Vycy5maW5kKFxuICAgICAgKHUpID0+IHUuZW1haWwudG9Mb3dlckNhc2UoKS50cmltKCkgPT09IG5vcm1hbGl6ZWRFbWFpbCxcbiAgICApO1xuICB9XG5cbiAgYXN5bmMgY3JlYXRlVXNlcih1c2VyOiBVc2VyKSB7XG4gICAgY29uc3Qgbm9ybWFsaXplZFVzZXIgPSB7XG4gICAgICAuLi51c2VyLFxuICAgICAgZW1haWw6IHVzZXIuZW1haWwudG9Mb3dlckNhc2UoKS50cmltKCksXG4gICAgfTtcbiAgICB0aGlzLnVzZXJzLnB1c2gobm9ybWFsaXplZFVzZXIpO1xuICAgIHJldHVybiBub3JtYWxpemVkVXNlcjtcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZVVzZXJWZXJpZmljYXRpb24oZW1haWw6IHN0cmluZywgaXNWZXJpZmllZDogYm9vbGVhbikge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRFbWFpbCA9IGVtYWlsLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgIGNvbnN0IHVzZXIgPSB0aGlzLnVzZXJzLmZpbmQoXG4gICAgICAodSkgPT4gdS5lbWFpbC50b0xvd2VyQ2FzZSgpLnRyaW0oKSA9PT0gbm9ybWFsaXplZEVtYWlsLFxuICAgICk7XG4gICAgaWYgKHVzZXIpIHVzZXIuaXNWZXJpZmllZCA9IGlzVmVyaWZpZWQ7XG4gIH1cblxuICBhc3luYyBzYXZlT1RQKG90cDogT1RQKSB7XG4gICAgdGhpcy5vdHBzID0gdGhpcy5vdHBzLmZpbHRlcigobykgPT4gby51c2VySWQgIT09IG90cC51c2VySWQpO1xuICAgIHRoaXMub3Rwcy5wdXNoKG90cCk7XG4gIH1cblxuICBhc3luYyBnZXRPVFAodXNlcklkOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5vdHBzLmZpbmQoKG8pID0+IG8udXNlcklkID09PSB1c2VySWQpO1xuICB9XG5cbiAgYXN5bmMgbWFya09UUFVzZWQodXNlcklkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBvdHAgPSB0aGlzLm90cHMuZmluZCgobykgPT4gby51c2VySWQgPT09IHVzZXJJZCk7XG4gICAgaWYgKG90cCkgb3RwLnVzZWQgPSB0cnVlO1xuICB9XG5cbiAgLy8gUGVyc2lzdGVudCBIaXN0b3J5IE1ldGhvZHNcbiAgYXN5bmMgc2F2ZUNoYXQoY2hhdDogQ2hhdCkge1xuICAgIHRoaXMuY2hhdHMucHVzaChjaGF0KTtcbiAgICByZXR1cm4gY2hhdDtcbiAgfVxuXG4gIGFzeW5jIHNhdmVQcm9qZWN0KHByb2plY3Q6IFByb2plY3QpIHtcbiAgICB0aGlzLnByb2plY3RzLnB1c2gocHJvamVjdCk7XG4gICAgcmV0dXJuIHByb2plY3Q7XG4gIH1cblxuICBhc3luYyBnZXRVc2VySGlzdG9yeSh1c2VySWQ6IHN0cmluZykge1xuICAgIHJldHVybiB7XG4gICAgICBjaGF0czogdGhpcy5jaGF0c1xuICAgICAgICAuZmlsdGVyKChjKSA9PiBjLnVzZXJJZCA9PT0gdXNlcklkKVxuICAgICAgICAuc29ydCgoYSwgYikgPT4gYi5jcmVhdGVkQXQuZ2V0VGltZSgpIC0gYS5jcmVhdGVkQXQuZ2V0VGltZSgpKSxcbiAgICAgIHByb2plY3RzOiB0aGlzLnByb2plY3RzXG4gICAgICAgIC5maWx0ZXIoKHApID0+IHAudXNlcklkID09PSB1c2VySWQpXG4gICAgICAgIC5zb3J0KChhLCBiKSA9PiBiLmNyZWF0ZWRBdC5nZXRUaW1lKCkgLSBhLmNyZWF0ZWRBdC5nZXRUaW1lKCkpLFxuICAgICAgZmlsZXM6IHRoaXMuZmlsZXNcbiAgICAgICAgLmZpbHRlcigoZikgPT4gZi51c2VySWQgPT09IHVzZXJJZClcbiAgICAgICAgLnNvcnQoKGEsIGIpID0+IGIuY3JlYXRlZEF0LmdldFRpbWUoKSAtIGEuY3JlYXRlZEF0LmdldFRpbWUoKSksXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZGIgPSAoZ2xvYmFsIGFzIGFueSkubW9ja0RiIHx8IG5ldyBNb2NrREIoKTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIChnbG9iYWwgYXMgYW55KS5tb2NrRGIgPSBkYjtcbiJdLCJuYW1lcyI6WyJNb2NrREIiLCJmaW5kVXNlckJ5RW1haWwiLCJlbWFpbCIsIm5vcm1hbGl6ZWRFbWFpbCIsInRvTG93ZXJDYXNlIiwidHJpbSIsInVzZXJzIiwiZmluZCIsInUiLCJjcmVhdGVVc2VyIiwidXNlciIsIm5vcm1hbGl6ZWRVc2VyIiwicHVzaCIsInVwZGF0ZVVzZXJWZXJpZmljYXRpb24iLCJpc1ZlcmlmaWVkIiwic2F2ZU9UUCIsIm90cCIsIm90cHMiLCJmaWx0ZXIiLCJvIiwidXNlcklkIiwiZ2V0T1RQIiwibWFya09UUFVzZWQiLCJ1c2VkIiwic2F2ZUNoYXQiLCJjaGF0IiwiY2hhdHMiLCJzYXZlUHJvamVjdCIsInByb2plY3QiLCJwcm9qZWN0cyIsImdldFVzZXJIaXN0b3J5IiwiYyIsInNvcnQiLCJhIiwiYiIsImNyZWF0ZWRBdCIsImdldFRpbWUiLCJwIiwiZmlsZXMiLCJmIiwiZGIiLCJnbG9iYWwiLCJtb2NrRGIiLCJwcm9jZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/db/mock.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/iron-webcrypto","vendor-chunks/iron-session","vendor-chunks/cookie","vendor-chunks/uncrypto","vendor-chunks/bcryptjs"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fverify-otp%2Froute&page=%2Fapi%2Fauth%2Fverify-otp%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fverify-otp%2Froute.ts&appDir=C%3A%5CUsers%5Ctanmo%5CDownloads%5Cwebsite-builder%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ctanmo%5CDownloads%5Cwebsite-builder&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();